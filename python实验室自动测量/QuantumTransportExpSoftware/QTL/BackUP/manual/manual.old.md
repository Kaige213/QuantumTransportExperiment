## Instrument Dialog

- 打开对话框，程序自动检测所有仪器的连接状态；

- connect按钮为绿色，表示该仪器的连接状态良好，在后面的实验中可以正常使用；灰色表示连接失败；

- 如果待使用的仪器连接失败，应该排查硬件连接问题，然后再次点击connect按钮，查看连接状态；

- 设置完所有需要用到的仪器，点击Apply按钮，程序会根据用户刚才的输入，设置相应仪器。如果全部设置成功，程序不会反应，如果有错误出现，程序会中断设置过程，并弹出提示窗口。如果没有窗口弹出，最好再根据输入，检查仪器是否设置成功，人工检查完毕，没有错误，才能关闭对话框，进入实验；

- control_instrument：是否使用该仪器是在sweep_parameters 输入框中决定；

  measure_instrument：是否使用该仪器是在弹出的对话框中决定，如果勾选，实验中就会用到该仪器，并把数据传送给该仪器对应的figure。



## Note

- 当绘图窗口中的曲线数目超过设定值，程序会清除老的曲线，并用curveInStore list来储存被清除的曲线。所以，增大Number Of Curves的值，程序会调用curvesInStore的数据，来恢复被删除曲线。但curvesInStore储存曲线数目的上限是100条，所以最多恢复100条曲线。

- 对于控制仪器（control_instrument），设置对话框只检查连接状态是否良好。而是否使用这些仪器，是由SweepParameters输入框决定（仪器名前的CheckBox被打上勾，表示使用该仪器）；

  对于测量仪器（measure_instrument），设置对话框不仅检查连接状态，仪器名后的CheckBox被用来确定是否使用该仪器。
  
- figure中每条curve对应一个数据文件，所以在newCurve函数里，对每个curve对象，添加一个attribute，保存该数据文件的文件名以及路径。后续测量中（如果该条曲线没有测量完），则直接提取该文件名，用于保存数据

- a = 0.3 / (4-1);print(a) #output: 0.09999999999999999
  #转化为单精度，再输出：
  print(np.float32(a))     #output: 0.1
  因为十进制转二进制时，二进制的最后一位可能不准确，导致输出的十进制最后一位也是不准确的；如果转化为单精度，则四舍五入后，得到准确的值；所以，程序里的浮点数，运行时，使用双精度，显示时，转化为单精度
